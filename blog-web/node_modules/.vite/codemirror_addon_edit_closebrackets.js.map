{
  "version": 3,
  "sources": ["../codemirror/addon/edit/closebrackets.js", "dep:codemirror_addon_edit_closebrackets"],
  "sourcesContent": ["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var defaults = {\n    pairs: \"()[]{}''\\\"\\\"\",\n    closeBefore: \")]}'\\\":;>\",\n    triples: \"\",\n    explode: \"[]{}\"\n  };\n\n  var Pos = CodeMirror.Pos;\n\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.removeKeyMap(keyMap);\n      cm.state.closeBrackets = null;\n    }\n    if (val) {\n      ensureBound(getOption(val, \"pairs\"))\n      cm.state.closeBrackets = val;\n      cm.addKeyMap(keyMap);\n    }\n  });\n\n  function getOption(conf, name) {\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\n    return defaults[name];\n  }\n\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\n  function ensureBound(chars) {\n    for (var i = 0; i < chars.length; i++) {\n      var ch = chars.charAt(i), key = \"'\" + ch + \"'\"\n      if (!keyMap[key]) keyMap[key] = handler(ch)\n    }\n  }\n  ensureBound(defaults.pairs + \"`\")\n\n  function handler(ch) {\n    return function(cm) { return handleChar(cm, ch); };\n  }\n\n  function getConfig(cm) {\n    var deflt = cm.state.closeBrackets;\n    if (!deflt || deflt.override) return deflt;\n    var mode = cm.getModeAt(cm.getCursor());\n    return mode.closeBrackets || deflt;\n  }\n\n  function handleBackspace(cm) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var cur = ranges[i].head;\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\n    }\n  }\n\n  function handleEnter(cm) {\n    var conf = getConfig(cm);\n    var explode = conf && getOption(conf, \"explode\");\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      if (!ranges[i].empty()) return CodeMirror.Pass;\n      var around = charsAround(cm, ranges[i].head);\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\n    }\n    cm.operation(function() {\n      var linesep = cm.lineSeparator() || \"\\n\";\n      cm.replaceSelection(linesep + linesep, null);\n      moveSel(cm, -1)\n      ranges = cm.listSelections();\n      for (var i = 0; i < ranges.length; i++) {\n        var line = ranges[i].head.line;\n        cm.indentLine(line, null, true);\n        cm.indentLine(line + 1, null, true);\n      }\n    });\n  }\n\n  function moveSel(cm, dir) {\n    var newRanges = [], ranges = cm.listSelections(), primary = 0\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i]\n      if (range.head == cm.getCursor()) primary = i\n      var pos = range.head.ch || dir > 0 ? {line: range.head.line, ch: range.head.ch + dir} : {line: range.head.line - 1}\n      newRanges.push({anchor: pos, head: pos})\n    }\n    cm.setSelections(newRanges, primary)\n  }\n\n  function contractSelection(sel) {\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\n  }\n\n  function handleChar(cm, ch) {\n    var conf = getConfig(cm);\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\n\n    var pairs = getOption(conf, \"pairs\");\n    var pos = pairs.indexOf(ch);\n    if (pos == -1) return CodeMirror.Pass;\n\n    var closeBefore = getOption(conf,\"closeBefore\");\n\n    var triples = getOption(conf, \"triples\");\n\n    var identical = pairs.charAt(pos + 1) == ch;\n    var ranges = cm.listSelections();\n    var opening = pos % 2 == 0;\n\n    var type;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], cur = range.head, curType;\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\n      if (opening && !range.empty()) {\n        curType = \"surround\";\n      } else if ((identical || !opening) && next == ch) {\n        if (identical && stringStartsAfter(cm, cur))\n          curType = \"both\";\n        else if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\n          curType = \"skipThree\";\n        else\n          curType = \"skip\";\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch) {\n        if (cur.ch > 2 && /\\bstring/.test(cm.getTokenTypeAt(Pos(cur.line, cur.ch - 2)))) return CodeMirror.Pass;\n        curType = \"addFour\";\n      } else if (identical) {\n        var prev = cur.ch == 0 ? \" \" : cm.getRange(Pos(cur.line, cur.ch - 1), cur)\n        if (!CodeMirror.isWordChar(next) && prev != ch && !CodeMirror.isWordChar(prev)) curType = \"both\";\n        else return CodeMirror.Pass;\n      } else if (opening && (next.length === 0 || /\\s/.test(next) || closeBefore.indexOf(next) > -1)) {\n        curType = \"both\";\n      } else {\n        return CodeMirror.Pass;\n      }\n      if (!type) type = curType;\n      else if (type != curType) return CodeMirror.Pass;\n    }\n\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\n    cm.operation(function() {\n      if (type == \"skip\") {\n        moveSel(cm, 1)\n      } else if (type == \"skipThree\") {\n        moveSel(cm, 3)\n      } else if (type == \"surround\") {\n        var sels = cm.getSelections();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = left + sels[i] + right;\n        cm.replaceSelections(sels, \"around\");\n        sels = cm.listSelections().slice();\n        for (var i = 0; i < sels.length; i++)\n          sels[i] = contractSelection(sels[i]);\n        cm.setSelections(sels);\n      } else if (type == \"both\") {\n        cm.replaceSelection(left + right, null);\n        cm.triggerElectric(left + right);\n        moveSel(cm, -1)\n      } else if (type == \"addFour\") {\n        cm.replaceSelection(left + left + left + left, \"before\");\n        moveSel(cm, 1)\n      }\n    });\n  }\n\n  function charsAround(cm, pos) {\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\n                          Pos(pos.line, pos.ch + 1));\n    return str.length == 2 ? str : null;\n  }\n\n  function stringStartsAfter(cm, pos) {\n    var token = cm.getTokenAt(Pos(pos.line, pos.ch + 1))\n    return /\\bstring/.test(token.type) && token.start == pos.ch &&\n      (pos.ch == 0 || !/\\bstring/.test(cm.getTokenTypeAt(pos)))\n  }\n});\n", "export default require(\"./node_modules/codemirror/addon/edit/closebrackets.js\");"],
  "mappings": "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",
  "names": []
}
